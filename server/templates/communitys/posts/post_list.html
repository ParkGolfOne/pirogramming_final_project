{% extends 'base.html' %} {%load static%} {% block content %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>파골원 커뮤니티</title>
    <link rel="stylesheet" href="{% static 'posts/css/post_list.css'%}" />
  </head>
  <body>
    <a href="{% url 'communitys:board_list' %}">커뮤니티 홈</a>
    <div>
      {% if user.is_authenticated %}
      <a href="{% url 'users:logout'%}">로그아웃</a>{% else %}
      <a href="{% url 'users:login'%}"> 로그인</a
      ><a href="{% url 'users:signup'%}"> 회원가입</a>{% endif %}
    </div>
    <h1>{{board.name}}</h1>
    {% if board.admin == now_user%}
    <form action="{% url 'communitys:board_delete' bid  %}" method="POST">
      {%csrf_token%}
      <a href="{% url 'communitys:board_update' bid %}" class="btn btn-primary"
        >게시판 수정</a
      >
      <button type="submit">게시판 삭제</button>
    </form>
    {% endif %}
    <div class="post_search">
      <select id="post_search_select">
        <option value="title">제목</option>
        <option value="writer">작성자</option>
      </select>
      <input id="post_search_input" />
      <button id="post_search_btn">검색</button>
    </div>
    <button id="post_list_btn">전체 게시글 보기</button>
    <div class="post_sort">
      <select id="post_sort_select">
        <option value="" disabled selected>----------</option>
        <option value="like">좋아요 많은 순</option>
        <option value="scrap">스크랩 많은 순</option>
        <option value="new">최신 순</option>
        <option value="old">오래된 순</option>
        <option value="popular">조회수순</option>
      </select>
    </div>
    <div class="postList">
      {% for post in posts%}
      <a
        href="{% url  'communitys:post_detail' bid post.pk%}"
        class="postDetailLink"
      >
        <div>{{post.title}}</div>
        <div>{{post.writer}}</div>
        <div>조회수 {{post.view_num}}</div>
      </a>
      {% endfor%}
    </div>
    <hr />
    <hr />
    <a href="{% url 'communitys:post_create' bid %}">글 작성하기</a>

    <!-- 페이지 네이션 -->
  </body>
</html>
{% endblock %} {% block script %}
<script>
  var boardId={{bid}};
</script>
<script src="{% static 'posts/js/posts.js'%}"></script>
<script src="{% static 'posts/js/search_post.js'%}"></script>
<script src="{% static 'posts/js/sort_post.js'%}"></script>
{% endblock %}
